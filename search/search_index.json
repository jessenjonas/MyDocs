{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Docs","text":""},{"location":"tags/","title":"Tags","text":"<p>Following is a list of relevant tags:</p>"},{"location":"tags/#cooking-book","title":"Cooking book","text":"<ul> <li>Cisco cooking book</li> </ul>"},{"location":"tags/#networking","title":"Networking","text":"<ul> <li>IPv4 Cheat Sheet</li> <li>IPv6 Cheat Sheet</li> <li>VPN Basics</li> <li>Basic</li> <li>IP Addressing</li> <li>Routing Protocols</li> <li>BGP</li> <li>EIGRP</li> <li>OSPF</li> <li>RIP</li> <li>Cisco Security - General</li> <li>Cisco Basic Security</li> <li>Encryption</li> <li>Cisco VPN</li> </ul>"},{"location":"tags/#security","title":"Security","text":"<ul> <li>VPN Basics</li> <li>Cisco Security - General</li> <li>Cisco Basic Security</li> <li>Encryption</li> <li>Cisco VPN</li> </ul>"},{"location":"Cooking%20books/","title":"Cooking books","text":"<p>Cisco cooking book</p>"},{"location":"Cooking%20books/Cisco%20cooking%20book/","title":"Cisco cooking book","text":"<p>Basic</p> <p>IP Addressing</p> <p> Routing Protocols</p> <p>Routing protocols</p> <p>RIP</p> <p>EIGRP</p> <p>OSPF</p> <p>BGP</p> <p> Security</p> <p>Security</p> <p>Basic</p> <p>encryption</p> <p> VPN</p> <p>VPN</p> <p>configuring_VPN</p>","tags":["Cooking book"]},{"location":"Networking/IPv4%20Cheat%20Sheet/","title":"IPv4 Cheat Sheet","text":"<p>Internet Protocol version 4 or IPv4 is the fourth version of the Internet Protocol (IP). IP is one of the core protocols for standards-based internetworking that is used on the Internet and other packet-switched networks.</p>","tags":["Networking"]},{"location":"Networking/IPv4%20Cheat%20Sheet/#address-length-and-format","title":"Address Length and Format","text":"<p>IPv4 uses a 32-bit address space that provides 4,294,967,296 unique addresses. Addresses are expressed in dot decimal notation which consists of four octets of the address expressed individually in decimal numbers and separated by periods. The following are some examples of IPv4 address expressed in dot decimal notation, and their binary representations:</p> Dot Decimal Binary 122.25.88.196 01111010.00011001.01011000.11000100 10.56.2.2 11000111.00111010.00111010.00000001 199.58.58.1 11000111.00111010.00111010.00000001 <p>IPv4 uses the concept of a subnet mask to separate an address into the network portion and the host portion, giving IPv4 its hierarchical structure.</p> <p>IPv4 uses the concept of a subnet mask to separate an address into the network portion and the host portion, giving IPv4 its hierarchical structure.</p>","tags":["Networking"]},{"location":"Networking/IPv4%20Cheat%20Sheet/#methods-to-assign-ipv4-addresses","title":"Methods to Assign IPv4 Addresses","text":"<p>Static - Fixed Address, DHCP - Dynamic Host Configuration Protocol (Address assigned by a central DHCP server).</p>","tags":["Networking"]},{"location":"Networking/IPv4%20Cheat%20Sheet/#subnetting","title":"Subnetting","text":"","tags":["Networking"]},{"location":"Networking/IPv4%20Cheat%20Sheet/#sources","title":"Sources","text":"","tags":["Networking"]},{"location":"Networking/IPv4%20Cheat%20Sheet/#to-be-added","title":"To be added","text":"<p>https://www.networkacademy.io/ccna/ipv6/stateless-address-autoconfiguration-slaac https://superuser.com/questions/703915/why-does-my-windows-have-hundreds-of-temporary-ipv6-addresses https://www.networkacademy.io/ccna/ipv6/ipv6-on-windows https://learningnetwork.cisco.com/s/blogs/a0D6e00000soIs9EAE/the-fundamentals-of-ethernet-cabling-in-an-enterprise-data-network?utm_medium=organic_social&amp;utm_source=facebook&amp;utm_campaign=en_brand&amp;utm_content=ryo&amp;team=social https://www.baeldung.com/cs/underlay-overlay-network</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/","title":"IPv6 Cheat Sheet","text":"<p>Internet Protocol version 6 or IPv6 is the fourth version of the Internet Protocol (IP). IP is one of the core protocols for standards-based internetworking that is used on the Internet and other packet-switched networks.</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#address-length-and-format","title":"Address Length and Format","text":"<p>The IPv6 address is 128 bits (i.e. 16 bytes) long and is written in 8 groups of 2 bytes in hexadecimal numbers, separated by colons:</p> <pre><code>fddd:f00d:cafe:0000:0000:0000:0000:0001\n</code></pre> <p>Leading zeros of each block can be omitted, the above address can be written like this:</p> <pre><code>fddd:f00d:cafe:0:0:0:0:1\n</code></pre> <p>We can abbreviate whole blocks of zeros with <code>::</code> and write:</p> <pre><code>fddd:f00d:cafe::1\n</code></pre> <p>However, this can only be done once per address in order to void ambiguity:</p> <pre><code>ff:0:0:0:1:0:0:1 (correct)\nff::1:0:0:1 (correct)\nff::1::1 (ambiguous, wrong)\n</code></pre> <p>According to RFC 5952 <code>ff:0:0:0:1::1</code> is not correct either because the longest group of concurrent zeroes must be shortened. If the strings are of equal length, the first string should use the double colon (::) notation:</p> <pre><code>ff:0:0:1:1:0:0:1 (correct)\nff::1:1:0:0:1 (correct)\nff:0:0:1:1::1 (wrong)\n</code></pre>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#protocols","title":"Protocols","text":"Number Protocol Purpose 6 TCP Stateful - Confirms if packets have arrived. Important for use cases with validation. 17 UDP Stateless - Does not confirm if packets have arrived. Good for streaming applications, VoIP calls, etc. 58 IPv6-ICMP Information, Error reporting, diagnostics based use cases.","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#methods-to-assign-ipv6-addresses","title":"Methods to Assign IPv6 Addresses","text":"<p>Static - Fixed Address, SLAAC - Stateless Address Auto-Configuration (Address generated by Host), DHCPv6 - Dynamic Host Configuration Protocol (Address assigned by a central DHCP server).</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#scopes-and-special-addresses","title":"Scopes and Special Addresses","text":"<p>When working in the world of IPv6, our addresses can vary depending on our scope (i.e. what part of a network): GLOBAL - Everything (i.e. the whole internet), UNIQUE LOCAL - Everything in our LAN (behind the internet gateway), LINK LOCAL - Everything within the same collision domain that will not be routed (i.e. attached to the same switch).</p> Range Purpose ::1/128 Loopback Address (localhost) ::/128 Unspecified Address 2000::/3 GLOBAL Unicast (Internet) fc00::/7 Unique-Local (LAN) fe80::/10 Link-Local Unicast (Same switch) <p>You should always use the smallest possible scope for communication. A host can have multiple addresses in different scopes, even on the same interface.</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#subnetting","title":"Subnetting","text":"<p>As in IPv4, IPv6 includes support for network segmentation via Subnetting. In the image below, the first 64 bits are designated as the <code>Network</code> portion, while the last 64 bits are for <code>Host</code> identification. Within the network portion, the first 48 bits are the <code>Routing Prefix</code> - aka the Network Address. The next and final 16 bits of the network notion is the <code>Subnet ID</code> or subnet address.</p> <p>Network+Subnet = Prefix</p> <p>The following address:</p> <p><code>2003:1000:1000:1600:1234::1</code> formatted fully as <code>2003:1000:1000:1600:1234:0000:0000:0001</code>, consists of the following segments:</p> <ul> <li><code>2003:1000:1000:1600</code> - Prefix (Combined of Routing Prefix and Subnet ID)</li> <li><code>2003:1000:1000</code> - Routing Prefix / Network Address</li> <li><code>1600</code> - Subnet ID / Subnet</li> </ul> <p>If my ISP provider delegated a portion of the prefix to me (e.g. <code>2003:1000:1000:1600/56</code>), then I could use the subnets <code>1600</code> through to <code>16FF</code> for my own purposes (Which would give me 256 available subnets).</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#ipv6-addresses-in-urisurls","title":"IPv6 Addresses in URIs/URLs","text":"<p>Because IPv6 address notation uses colons to isolate hextets, it is necessary to encase the address in square brackets in URIs. For example <code>http://[2a00:1450:4001:82a::2004]</code>. If you wish to specify a port, you can do so as normal using a colon following the closing square bracket: <code>http://[2a00:1450:4001:82a::2004]:80</code>.</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#multicast","title":"Multicast","text":"<p>Communication from one node to another is called Unicast. Communication from one node to many is called Multicast.</p> <p>The following IPv6 multicast addresses may be used in in the link-local scope:</p> Range Purpose ff02::1 All Nodes within the network segment ff02::2 All Routers within the network segment ff02::fb mDNSv6 ff02::1:2 All DHCP Servers and Agents ff02::101 All NTP Servers <p>A full list is maintained by IANA</p> <p>You can actually ping these addresses, e.g. <code>ping ff02::1</code></p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#icmp-message-types","title":"ICMP Message Types","text":"<p>ICMP does not use ports in order to communicate, but rather types. Critical/important types have numbers ranging from 1-127, while informational types have the numbers 128 and above. Each type can have subtypes or rather codes that can be used for further specifications.  </p> <p>Here are some frequently used IPv6 ICMP types:</p> Type Code Purpose 0 Reserved 1 Destination Unreachable 1 0 No Route to Destination 1 2 Beyond Scope of Source Address 3 Time Exceeded 3 0 Hop Limit Exceeded in Transit Type Code Purpose 128 0 Echo Request (\"ping\") 129 0 Echo Reply 133 0 Router Solicitation 134 0 Router Advertisement 135 0 Neighbo(u)r Solicitation 136 0 Neighbo(u)r Advertisement <p>A full list is maintained by IANA</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#dhcpv6","title":"DHCPv6","text":"<p>IPv6 addresses can be distributed using the IPv6 version of the Dynamic Host Configuration Protocol (DHCPv6). If a host wishes to obtain an IPv6 address via DHCPv6, it sends out a DHCP Solicitation from UDP port 546 to port 547 on the DHCP multicast address <code>ff02::1:2</code>. The DHCP server then replies to the client (from UDP port 547 to UDP port 546) with DHCP Advertisement. This handshake can be completed by the client sending out a DHCP Request and the server responding with a DHCP Reply</p> <p>The DHCPv6 protocol is explained in more detail in this Wikipedia Article</p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#dhcpv6-vs-slaac","title":"DHCPv6 vs. SLAAC","text":"<p>Depending on how the router and the client are set up, the client can (and will) use both mechanisms (i.e. SLAAC and DHCP) to acquire IPv6 address allocations. The following table highlights the possible configuration combinations:</p> <p></p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#using-wireshark","title":"Using WireShark","text":"<p>To gain a greater understanding of IPv6's functionality, you can use the packet sniffing tool WireShark to trace the message flow. Here are some WS filters for IPv6 ICMP, DHCPv6 and Router Solicitation and Advertisements:</p> <p>Show ping and ping reply: <code>icmpv6 and (icmpv6.type==128) or (icmpv6.type==129)</code>  Router solicit and advertise: <code>icmpv6 and (icmpv6.type==133) or (icmpv6.type==134)</code>  Show DHCPv6 traffic: <code>dhcpv6</code>  Router Solicit/Advertise and DHCPv6: <code>dhcpv6 or (icmpv6 and (icmpv6.type==134) or (icmpv6.type==133))</code> </p>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#unicast-vs-multicast-vs-broadcast-vs-anycast","title":"Unicast vs. Multicast vs. Broadcast vs. Anycast","text":"<p>Within IPv6, there are a range of message options. All of these message types have a single host transmitting the message and all delivery is handled by the switch or router:</p> <ul> <li>Unicast is a message sent from a host to one receiver (One to One),</li> <li>Broadcast is a message sent from a host to all other hosts on the same broadcast domain (One to All),</li> <li>Multicast is a message sent from a host to all subscribers of a Multicast group (One to Specific),</li> <li>Anycast is a message sent from a host to the fastest / nearest subscriber of a specific address (One to Specific - Fastest Receiver / Nearest Node will receive).</li> </ul>","tags":["Networking"]},{"location":"Networking/IPv6%20Cheat%20Sheet/#sources","title":"Sources","text":"<p>IPv6, Lawrence Whetstone IPv6 Address Representation and Address Types, Cisco Press</p>","tags":["Networking"]},{"location":"Networking/VPN/","title":"VPN Basics","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/Basic/","title":"Basic","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Basic/#basic-configuration","title":"Basic Configuration","text":"<pre><code>Hostname &lt;hostname&gt;\nService password-encryption\nEnable secret &lt;secret&gt;\nUsername &lt;username&gt; secret &lt;secret&gt;\nAAA new-model\nlogin block-for 120 attempts 2 within 120 !Block for 2 minutes, after 2 failed attempts in 2 minute period\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Basic/#ssh","title":"SSH","text":"<pre><code>Ip domain-name &lt;DomainName&gt;\nCrypto key generate rsa modulus 4096\nIp SSH version 2\nIp SSH authentication-retries 2\nIp SSH time-out 60\nLine VTY 0 15\nTransport input SSH\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Basic/#console","title":"Console","text":"<pre><code>AAA authentication login default local\nLine con 0\nlogin authentication default\nlogging synchronous\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Basic/#privilege-levels","title":"Privilege levels","text":"<pre><code>Enable secret level 2 &lt;secret&gt;\nPrivilege exec level 2 &lt;command&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Basic/#default-route","title":"Default route","text":"<pre><code>ip route 0.0.0.0 0.0.0.0 [&lt;Next hop IP | &lt;Exit interface&gt;]\nipv6 route ::/0 [&lt;Next hop IP&gt; | &lt;Exit interface&gt;]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Basic/#plane","title":"Plane","text":"<p>Control-Plane is something we call it as the heart of the process..... it is something handles that comes to the box.... if any traffic is destined or defined to the box/device... then it is handled by control plane....</p> <p>Data Plane is something which has the forwarding information we can say that as forwarding plane.... which has the routing table and other access-rule information to define how that traffic to be handled.... on which interface it enter and how it goes out of the box.....</p> <p>Management Plane: Whatever you do: editing/moniotoring/managing the device.... say SNMP/CLI/GUI are some functionalities we can say it as management plane... it is a sub-component of control plane we can say.... management plane can be controlled by control-plane</p>","tags":["Networking"]},{"location":"Networking/Cisco/IP%20Addressing/","title":"IP Addressing","text":"","tags":["Networking"]},{"location":"Networking/Cisco/IP%20Addressing/#ipv4-addressing","title":"IPv4 Addressing","text":"","tags":["Networking"]},{"location":"Networking/Cisco/IP%20Addressing/#router-access-point","title":"Router &amp; Access Point","text":"<pre><code>Int &lt;interface&gt;\nip address [&lt;ip&gt; &lt;subnet&gt; | dhcp]\nno shutdown\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/IP%20Addressing/#switch-l3","title":"Switch - L3","text":"<pre><code>ip routing\nInt &lt;interface&gt;\nno switchport\nip address [&lt;ip&gt; &lt;subnet&gt; | dhcp]\nno shutdown\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/IP%20Addressing/#switch-l2-management-ip","title":"Switch - L2 (Management IP)","text":"<pre><code>Int &lt;vlanID&gt;\nip address [&lt;ip&gt; &lt;subnet&gt; | dhcp]\nno shutdown\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/IP%20Addressing/#ipv6-addressing","title":"IPv6 Addressing","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/","title":"Routing Protocols","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/#administrative-distance-ad","title":"Administrative Distance (AD)","text":"<p>Routing information sources are each assigned an administrative distance (AD).</p> <p>Think of an administrative distance of a routing information source as the believability or trustworthiness of that routing source when comparing it to the other routing information sources.  </p> <p>The table below lists the default ADs of routing information sources. The lower the AD, the more preferred the source of information</p> Source of Routing information Default AD Connected interface 0 Static route 1 EIGRP summary route 5 eBGP (External Border Gateway Protocol) 20 EIGRP (internal) 90 OSPF 110 IS-IS (Intermediate System to Intermediate System) 115 RIP 120 ODR (On-Demand Routing) 160 EIGRP (external) 170 iBGP (Internal Border Gateway Protocol) 200 Unknown (not believable) 255","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/","title":"BGP","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#what-is-bgp","title":"What is BGP","text":"<p>BGP, opposing to EIGRP and OSPF, is an EGP, and are therefore used for cummincation between ISPs and enterprises. BGP is an succesor to EGP (Note the dual use of EGP). Distingushed by eBGP and iBGP, BGP, besides being external, can be internal - The configuration is the same, but iBGP is setup within the same AS.</p> <p>In contrary to other routing protocols, BGP establishes neighbor relationships without explicitly advertising any networks. When an adjacency is established, neighbors will exchange their best BGP routes which includes some attributes. A router will use these attributes to offer the single best route for a network from the BGP table, to the ip routing table. This also means that the neighbor don't have the be directly connected neighbor, but can be any router that is pingable over the network.</p> <p></p> <p>To be selected for the best BGP route, the next-hop ip address must be reachable. Even though that the best BGP route is being propogated to its neighbors, it doesn\u2019t have to be in the ip routing table.</p> <p>Since BGP doesn\u2019t accept a route with its own AS number in the path, it is guranteed to loop free, and BGPs interdomain routing is usually based on policies, which differentiates it from IGPs which usually focus on the fastest route.</p> <p>When having a single-homed network, BGP doesn\u2019t provide benefit. In a multi-homed network, BGP is used to manipulate how your network traffic is being routed between multiple paths. Apart from keepalive messages, because of it\u2019s reliable link, only changes are exchanged.</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#autonomous-system-numbers","title":"Autonomous System Numbers","text":"<p>An organization requiring connectivity to the Internet must obtain an ASN. ASNs were originally 2 bytes (in the 16-bit range), which made 65,535 ASNs possible. Due to exhaustion, RFC 4893 expanded the ASN field to accommodate 4 bytes (in the 32-bit range). This allows for 4,294,967,295 unique ASNs, providing quite an increase from the original 65,535 ASNs.</p> <p>Two blocks of private ASNs are available for any organization to use, as long as these ASNs are never exchanged publicly on the Internet. ASNs 64,512 through 65,535 are private ASNs in the 16-bit ASN range, and 4,200,000,000 through 4,294,967,294 are private ASNs in the extended 32-bit range.</p> <p>Warning</p> <p>Use ONLY ASNs assigned by IANA, your service provider or a private ASN! Failure to do so, or using another organization's ASN publicly could result in traffic loss and cause havoc on the internet!</p> BGP MP-BGP Facts IPv4Global config Pv6 over IPv6 &amp; IPv6 over IPv4Global config Type Path Vector SAFI &amp; AFI Algorithm PBR Standard Non proprietary Protocol TCP Group EGP","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#afi-safi","title":"AFI &amp; SAFI","text":"<p>Originally, BGP was intended for routing of IPv4 prefixes between organizations, but RFC 2858 added Multi-Protocol BGP (MP-BGP) capability by adding an extension called the address family identifier (AFI). An address family correlates to a specific network protocol, such as IPv4 or IPv6, and additional granularity is provided through a subsequent address family identifier (SAFI), such as unicast or multicast.</p> <p>The MP-BGP extensions include an AFI that describes the supported protocols, along with SAFI attribute fields that describe whether the prefix applies to the unicast or multicast routing table:</p> <ul> <li>IPv4 unicast: AFI:1, SAFI:1</li> <li>IPv6 unicast: AFI:2, SAFI:1</li> <li>IPv4 Multicast: AFI:1, SAFI:2</li> <li>IPv6 Multicast: AFI:2, SAFI:2</li> </ul> <p>AFI &amp; SAFI is configured during the configuration of MP-BGP address families with the following command <code>Address-family AFI [SAFI]</code>, where <code>AFI</code> is either IPv4 or IPv6, and <code>SAFI</code> is either Unicast or Multicast, depending on the network topology.</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#default-ipv4-unicast","title":"Default IPv4 Unicast","text":"<p>The command <code>bgp default ipv4-unicast</code> is set by default and tell's the router that the AFI &amp; SAFI, for the BGP peering session, is a IPv4 Unicast by default for the global configuration.</p> <p>It doesn't prevent IPv6 prefixes to be advertised. This means that IPv4 address family routing information is advertised by default for each BGP routing session configured with the <code>neighbor &lt;remote-as&gt;</code> command, unless you first configure the <code>no bgp default ipv4-unicast</code> command before configuring the <code>&lt;neighbor remote-as&gt;</code> command.</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#router-id","title":"Router ID","text":"<p>By default the Router ID is set dynamically, but can also be set manually using the <code>Router-id &lt;32-bit router ID&gt;</code> command. The algorithm for dynamically choosing the OSPF RID uses the following order:</p> <ol> <li>Highest IPv4 address of any up loopback interfaces.</li> <li>If there are not any up loopback interfaces, the highest IPv4 address of any active up physical interfaces becomes the RID.</li> </ol> <p>If the conditions above aren't fulfilled, the BGP process isn't started</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#route-filtering-manipulation","title":"Route filtering &amp; Manipulation","text":"<p>Not yet finished</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#configuration","title":"Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#bgp_1","title":"BGP","text":"<pre><code>Router bgp &lt;AS-number&gt;\nNeighbor &lt;Neighbor IP&gt; remote-as &lt;Remote AS-number&gt;\nNetwork &lt;Network adress&gt; [&lt;Subnet mask&gt;]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#mp-bgp-ipv4-over-ipv4","title":"MP-BGP | IPv4 over IPv4","text":"<pre><code>ipv6 unicast-routing\nRouter bgp &lt;AS-number&gt;\nNeighbor &lt;Neighbor IPv4&gt; remote-as &lt;Remote AS-number&gt;\nAddress-family IPv4\nNeighbor &lt;Neighbor IPv4&gt; activate\nNetwork &lt;Network address&gt; mask &lt;network mask&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#mp-bgp-ipv6-over-ipv4","title":"MP-BGP | IPv6 over IPv4","text":"<pre><code>ipv6 unicast-routing\nRouter bgp &lt;AS-number&gt;\nNeighbor &lt;Neighbor IPv4&gt; remote-as &lt;Remote AS-number&gt;\nAddress-family IPv6\nNeighbor &lt;Neighbor IPv4&gt; activate\nNetwork &lt;Network IPv6/Prefix-lenght&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#mp-bgp-ipv6-over-ipv6","title":"MP-BGP | IPv6 over IPv6","text":"<pre><code>ipv6 unicast-routing\nRouter bgp &lt;AS-number&gt;\nbgp router-id &lt;32-bit Router ID&gt;\nNeighbor &lt;Neighbor IPv6&gt; remote-as &lt;Remote AS-number&gt;\nAddress-family IPv6\nNeighbor &lt;Neighbor IPv6&gt; activate\nNetwork &lt;Network IPv6/Prefix-lenght&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#additional-configuration","title":"Additional Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#manupulate","title":"Manupulate","text":"<pre><code>Neighbor &lt;Neighbor IPv4&gt; route-map &lt;name&gt; out\nroute-map &lt;name&gt; permit &lt;sequence number&gt;\nset ipv6 next-hop &lt;IPv6 address on interface on link&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#summarization","title":"Summarization","text":"<pre><code>aggregate-address prefix/prefix-length [summary-only] [as-set]\n!Summary-only don't advertise routes that overlap with the aggregate-address\n!as-set Advertise the aggregates-address AS-Path, that otherwise wouln't be advertised.\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#redistribution","title":"Redistribution","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#bgp_2","title":"BGP","text":"<pre><code>Router bgp &lt;AS-number&gt;\nredistribute &lt;Protocol | ...&gt; [Route-map &lt;name&gt;]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/BGP/#mp-bgp","title":"MP-BGP","text":"<pre><code>Router bgp &lt;AS-number&gt;\nAddress-family [IPv6 | IPv4]\nredistribute &lt;Protocol | ...&gt; [Route-map &lt;name&gt;]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/","title":"EIGRP","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#what-is-eigrp","title":"What is EIGRP","text":"<p>EIGRP, developed by Cisco - and proprietary to Cisco, is an advanced distance vector routing protocol. In contrary to the older IGRP, which are a distance vector routing protocol, EIGRP includes features, found in link-state protocols, that are not present in IGRP or RIP, which is why it is reffered to as an advanced distance vector.</p> <p>By storing it\u2019s neighbors routing table, EIGRPs algorithm, DUAL, ensures that a router running EIGRP quickly can adapt to changes in the network - resulting in rapid convergence and a loop free network.</p> <p></p> <p>EIGRP uses DUAL to calculate the cost for each path to a destination network in it\u2019s AS using the path\u2019s distance information, AKA composite metric. Then it stores up to 4 successor routes, if having the same RD, and all the feasible successors, which all must satisfy the feasiblity condition of having a RD lower than the RD of the successor route, AKA the FD. The lower the cost, the better.</p> <p>With <code>show ip eigrp topology</code> we can see the successor, and feasible successor, routes, alongside their reported distances.</p> <p></p> Term Definition Successor route The route with the lowest path metric to reach a destination.The successor route for R1 to reach 10.4.4.0/24 on R4 is R1\u2192R3\u2192R4. Successor The first next-hop router for the successor route.The successor for 10.4.4.0/24 is R3. Feasible distance (FD) The metric value for the lowest-metric path to reach a destination. The feasible distance is calculated locally using the formula shown in the \u201cPath Metric Calculation\u201d section.The FD calculated by R1 for the 10.4.4.0/24 network is 3328(that is, 256 + 256 + 2816). Reported distance (RD) Distance reported by a router to reach a prefix. The reported distance valueis the feasible distance for the advertising router.R3 advertises the 10.4.4.0/24 prefix with an RD of 3072. R4 advertises the 10.4.4.0/24 to R1 and R2 with an RD of 2816. Feasibility condition For a route to be considered a backup route, the RD received for that routemust be less than the FD calculated locally. This logic guarantees a loop-free path. Feasible successor A route with that satisfies the feasibility condition is maintained as a backup route. The feasibility condition ensures that the backup route is loop free.The route R1\u2192R4 is the feasible successor because the RD of 2816 is lower than the FD of 3328 for the R1\u2192R3\u2192R4 path. <p>EIGRIP uses IP protocol number 88 and is using multicast packets where possible, and unicast packets when necessary. Communication between routers is done using the group address 224.0.0.10 or the MAC address 01:00:5e:00:00:0a when possible.</p> EIGRP EIGRPv6 Named EIGRP Facts IPv4Global config IPv6Int config IPv4 &amp; IPv6Global configuration Type AdvancedDistance Vector No VRF support Single place configuration Algorithm DUAL IPv6 VRF support Standard Cisco proprietary Protocol RTP Group IGP Load balacing Equal &amp; Unequal","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#summarization","title":"Summarization","text":"<p>EIGRP summarizes network prefixes on an interface-by-interface basis. When summarization is applied on a interface, all previously advertised routes contained by the summarization address will be suppresed, and the new summarized route is advertised instead.</p> <p>OBS - This can cause issues when having networks that are not desirable to be advertised.</p> <p>This can however be somewhat solved by using the <code>leak-map</code> option, which allows to only discard routes belonging in an route-map.</p> <p>To prevent looping, a discard route (Null route) is will be used for the summary route. This results in packages being discarded, when the destination network doesn't exist in the routing table.</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#stub-router","title":"Stub router","text":"<p>The EIGRP stub functionality prevents scenarios like this from happening and allows an EIGRP router to conserve router resources.   An EIGRP stub router, depening on the configuration, does not advertise routes that it learns from other EIGRP peers.</p> <ul> <li>Receive-only: The stub router will not advertise any network.</li> <li>Connected: allows the stub router to advertise directly connected networks.</li> <li>Static: allows the stub router to advertise static routes (you have to redistribute them).</li> <li>Summary: allows the stub router to advertise summary routes.</li> <li>Redistribute: allows the stub router to advertise redistributed routes.</li> </ul> <p>The EIGRP stub router announces itself as a stub within the EIGRP hello packet. This provides faster convergence within an EIGRP autonomous system because it decreases the size of the query domain for that prefix.</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#path-metric-calculation","title":"Path Metric Calculation","text":"<p>When calculating the paths for a destination network. All paths to a destination network must be added together, including the path after the destination router. The reason for this, is that the destination router could have multiple redundant links. This way the fastest link will be choosen over a slower link.</p> <p> </p> <p>When calculating the metric for a path, one of the formulas above is used. Since the classic metric, especially due to the delay constant, didn\u2019t scale well with higher-speed interfaces, like 10 gbps and 20 gbps, a Wide metric was added, including and extended attribute for jitter, lag or other future parameters.</p> <p>As long as the K6 value, isn\u2019t used. The Wide metric are backwards compatible. However, since the Wide metric is scaled by 65.535, instead of 256, which supports interface speeds up to 655 Terabits, it has to be rescaled to be used in a mix setup, the unscaled bandwidth can be found using a separate formula, not listed here.</p> Media type Link Speed (kbps) Delay Metric Serial 64 20.000 \u03bcs 40,512,000 T1 1544 20.000 \u03bcs 2.170.031 Ethernet 10.000 1000 \u03bcs 281.600 FastEthernet 100.000 100 \u03bcs 28.160 GigabitEthernet 1.000.000 10 \u03bcs 2816 10 GigabitEthernet 10.000.000 10 \u03bcs 512 11 GigabitEthernet 11.000.000 10 \u03bcs 256 20 GigabitEthernet 20.000.000 10 \u03bcs 256","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#router-id","title":"Router ID","text":"<p>By default the Router ID is set dynamically, but can also be set manually using the <code>eigrp Router-id &lt;32-bit router ID&gt;</code> command. The algorithm for dynamically choosing the EIGRP RID uses the following order:</p> <ol> <li>Highest IPv4 address of any up loopback interfaces.</li> <li>If there are not any up loopback interfaces, the highest IPv4 address of any active up physical interfaces becomes the RID when the EIGRP process initializes.</li> </ol>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#configuration","title":"Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#eigrp_1","title":"EIGRP","text":"<pre><code>Router eigrp &lt;AS number&gt;\neigrp router-id &lt;32-bit Router ID&gt;\nNetwork &lt;Network adress&gt; [Wildcard mask]\nPassive-interface [&lt;Interface&gt; | Default]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#eigrpv6","title":"EIGRPv6","text":"<pre><code>ipv6 unicast-routing\nipv6 router eigrp &lt;AS number&gt;\neigrp router-id &lt;32-bit Router ID&gt;\nint &lt;interface&gt;\nipv6 eigrp &lt;AS number&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#named-eigrp-ipv4","title":"Named EIGRP IPv4","text":"<pre><code>Router eigrp &lt;Virtual-Instance name&gt;\naddress-family ipv4 autonomous-system &lt;AS number&gt;\neigrp router-id &lt;32-bit Router ID&gt;\nnetwork &lt;network address&gt; &lt;Wildcard mask&gt;\naf-interface [&lt;interface&gt; | default]\npassive-interface !Supress updates\nor\nshutdown !Disable EIGRP address-family on interface\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#named-eigrp-ipv6","title":"Named EIGRP IPv6","text":"<pre><code>ipv6 unicast-routing\nRouter eigrp &lt;Virtual-Instance name&gt;\naddress-family ipv6 autonomous-system &lt;AS number&gt;\neigrp router-id &lt;32-bit Router ID&gt;\naf-interface [&lt;interface&gt; | default]\npassive-interface !Supress updates\nor\nshutdown !Disable EIGRP address-family on interface\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#additional-configuration","title":"Additional Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#summarization_1","title":"Summarization","text":"<pre><code>int &lt;interface&gt;\nip summary-address eigrp as-number network subnet-mask [leak-map route-map-name]\nor\naf-interface [&lt;interface&gt; | default]\nsummary-address network subnet-mask [leak-map route-map-name]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#stub-configuration","title":"Stub Configuration","text":"<pre><code>Router eigrp &lt;AS number&gt;\neigrp stub [connected | receive-only | redistributed | static | summary]\nor\nRouter eigrp &lt;Virtual-Instance name&gt;\naddress-family [ipv4 | ipv6] autonomous-system &lt;AS number&gt;\neigrp stub [connected | receive-only | redistributed | static | summary]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#altering-the-k-values","title":"Altering the K values","text":"<pre><code>int &lt;interface&gt;\nmetric weights &lt;TOS&gt; &lt;K1&gt; &lt;K2&gt; &lt;K3&gt; &lt;K4&gt; &lt;K5&gt; [&lt;K6&gt;] !TOS is always \u201c0\u201d\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#altering-the-delay-value","title":"Altering the delay value","text":"<pre><code>int &lt;interface&gt;\ndelay &lt;number&gt; !Microseconds\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#authentication-on-eigrp","title":"Authentication on EIGRP","text":"<pre><code>key chain &lt;keychain-name&gt;\nkey &lt;number&gt;\nkey-string &lt;secret key&gt;\nint &lt;interface&gt;\nip authentication mode eigrp &lt;as-number&gt; md5\nip authentication key-chain eigrp &lt;as-number&gt; &lt;keychain-name&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#authentication-on-named-eigrp","title":"Authentication on Named EIGRP","text":"<pre><code>key chain &lt;keychain-name&gt;\nkey &lt;number&gt; !Must be between 0 to 2147483647\nkey-string &lt;secret key&gt;\nrouter eigrp EIGRP-NAMED\naddress-family ipv4 unicast autonomouse-system &lt;as-number&gt;\nauthentication mode &lt;md5 | hmacsha-256&gt;\nauthentication mode &lt;md5 | hmacsha-256&gt;\nauthentication key-chain &lt;keychain-name&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#redistribution","title":"Redistribution","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#eigrp_2","title":"EIGRP","text":"<pre><code>Router eigrp &lt;Virtual-Instance name&gt;\nredistribute &lt;Protocol | ...&gt; [metric [bandwitdh delay reliability effective-bandwitdh MTU]]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#eigrpv6_1","title":"EIGRPv6","text":"<pre><code>ipv6 unicast-routing\nipv6 router eigrp &lt;Virtual-Instance name&gt;\nredistribute &lt;Protocol | ...&gt; [metric [bandwitdh delay reliability effective-bandwitdh MTU]]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#eigrp-named-configuration","title":"EIGRP Named configuration","text":"<pre><code>Router eigrp &lt;Virtual-Instance name&gt;\naddress-family ipv6 autonomous-system &lt;AS number&gt;\nTopology base\nredistribute &lt;Protocol | ...&gt; [metric [bandwitdh delay reliability effective-bandwitdh MTU]]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/EIGRP/#example","title":"Example","text":"<pre><code>redistribute ospf metric 100000 1000 255 1 1500\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/","title":"OSPF","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#what-is-ospf","title":"What is OSPF","text":"<p>OSPF is one of the most deployed routing protocols in the world. Developed by the IETF to overcome the limitations of distance vector routing protocols.</p> <p>OSPF uses it\u2019s link-state algorithm, Djikstra, to build a link-state database, called LSDB, which contains all the shortest path to all known destinations, including inter-area, - This database is identical for all routers within an area. LSAs will be exchanged when neighbor adjencies are made. When synchronized and converged, an OSPF router only sends partial updates to it\u2019s neighbor(s), which will then be flooded to all OSPF routers within an area.</p> <p>It\u2019s design means that area 0, the backbone area, is a requirement when create a multi-area OSPF AS. If there is only a single area in the AS, the area ID is your choice. When creating a multi-area OSPF, since OSPF expects all areas to inject routing information into Area 0, all areas must be directly attached to area 0. In situations where an area is either not connected to area 0, or are both connected to area 0 and another area, but the link to area 0 goes down, a virtual link can be created.</p> <p>OSPF Multi-area uses different LSAs and area types, where the various LSAs, depending on the configuration of the routers, improves convergence and scalability. This makes it possible to summarize routes from other areas, whereas different area types makes it possible to alter the database as you desire. The various LSAs and area types, and their definition, can be found in the section \"Link State Advertisements\".</p> OSPF OSPFv3 Facts IPv4Global config IPv6Int config Type Link-state IPv4 &amp; IPv6Address Family (AF)Global &amp; Interface configuration Algorithm SPF (Dijkstra) Standard Non proprietary Protocol IP Group IGP","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#spf-tree","title":"SPF Tree","text":"<p>As each router contains an LSDB, they each create a SPT, which contains all the routes to known destinations, with the router as the tree root. Therefore the SPT differs from each router. But the LSDB, used to create the SPT is identical. This ensures that the network is loop-free.</p> <p>While each router have the same LSDB's (one for each area), the internal topology of an area, is invisible from outside of the area.  When a topology is changing, all routers inside an area does a full SPT calculation, while routers outside the area, only does a partial calculation.</p> <p>In essence, an OSPF area hides the topology from another area but allows the networks to be visible in other areas within the OSPF domain. Segmenting the OSPF domain into multiple areas reduces the size of the LSDB for each area, making SPT calculations faster and decreasing LSDB flooding between routers when a link flaps.</p> <p></p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#router-types","title":"Router types","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#area-types","title":"Area types","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#link-state-advertisements","title":"Link State Advertisements","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#neighbor-states","title":"Neighbor States","text":"<p>Each OSPF process maintains a table for adjacent OSPF neighbors and the state of each router. The table below shows the available states for a neighboring router, in that order. </p> State Description Down The initial state of a neighbor relationship. It indicates that the router has not received any OSPF hello packets. Attempt A state that is relevant to nonbroadcast multi-access (NBMA) networks thatdo not support broadcast and that require explicit neighbor configuration. Thisstate indicates that no recent information has been received, but the router isstill attempting communication. Init A state in which a hello packet has been received from another a router, butbidirectional communication has not been established. 2-Way A state in which bidirectional communication has been established. If a DR orBDR is needed, the election occurs during this state. ExStart The first state in forming an adjacency. Routers identify which router will be themaster or slave for the LSDB synchronization. Exchange A state during which routers are exchanging link states by using DBD packets. Loading A state in which LSR packets are sent to the neighbor, asking for the morerecent LSAs that have been discovered (but not received) in the Exchange state. Full A state in which neighboring routers are fully adjacent.","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#requirements-for-neighbor-adjacency","title":"Requirements for Neighbor Adjacency","text":"<p>For routers to establish neighbor adjancy, they must follow all of the requirements below:</p> <ul> <li>The RIDs must be unique between the two devices. To prevent errors, they should be unique for the entire OSPF routing domain.</li> <li>The interfaces must share a common subnet. OSPF uses the interface\u2019s primary IP address when sending out OSPF hellos. The network mask (netmask) in the hello packet is used to extract the network ID of the hello packet.</li> <li>The interface maximum transmission unit (MTU) must match because the OSPF protocol does not support fragmentation.</li> <li>The area ID must match for that segment.</li> <li>The need for a DR must match for that segment.</li> <li>OSPF hello and dead timers must match for that segment.</li> <li>The authentication type and credentials (if any) must match for that segment.</li> <li>Area type flags must be identical for that segment (stub, NSSA, and so on).</li> </ul>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#router-id","title":"Router ID","text":"<p>By default the Router ID is set dynamically, but can also be set manually using the <code>Router-id &lt;32-bit router ID&gt;</code> command. The algorithm for dynamically choosing the OSPF RID uses the following order:</p> <ol> <li>Highest IPv4 address of any up loopback interfaces.</li> <li>If there are not any up loopback interfaces, the highest IPv4 address of any active up physical interfaces becomes the RID.</li> </ol> <p>If the conditions above aren't fulfilled, the OSPF process isn't started</p>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#configuration","title":"Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#ospfv2","title":"OSPFv2","text":"<pre><code>Router ospf &lt;process number&gt;\nrouter-id &lt;32-bit Router ID&gt;\nNetwork &lt;Network adress&gt; &lt;Wildcard mask&gt; area &lt;area id&gt;\nPassive-interface [&lt;Interface&gt; | Default]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#ospfv3-ipv6","title":"OSPFv3 IPv6","text":"<pre><code>ipv6 unicast-routing\nipv6 router ospf &lt;process number&gt;\nrouter-id &lt;32-bit Router ID&gt;\nint &lt;interface&gt;\nipv6 ospf &lt;process number&gt; area &lt;area&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#ospfv3-address-family","title":"OSPFv3 Address Family","text":"<p>Info</p> <p>Depending on OS version. May only be on newer versions</p> <pre><code>ipv6 unicast-routing\nRouter ospfv3 &lt;process number&gt;\nrouter-id &lt;32-bit Router ID&gt; !Must on IPv6\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#global-configuration","title":"Global configuration","text":"<pre><code>address-family [ipv6 | ipv4] unicast\npassive-interface [&lt;interface&gt; | default]\narea &lt;area id&gt; range &lt;network adress&gt; &lt;subnet mask&gt; !IPv4\narea &lt;area id&gt; range &lt;ipv6-prefix&gt; !IPv6\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#interface-configuration","title":"Interface configuration","text":"<pre><code>int &lt;interface&gt;\nipv6 enable\nospfv3 &lt;process number&gt; [ipv4 | ipv6] area &lt;area id&gt;\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#redistribution","title":"Redistribution","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#ospfv2_1","title":"OSPFv2","text":"<pre><code>Router ospf &lt;process number&gt;\nredistribute &lt;Protocol | ...&gt; [subnets]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#ospfv3-ipv6_1","title":"OSPFv3 IPv6","text":"<pre><code>ipv6 unicast-routing\nipv6 router ospf &lt;process number&gt;\nredistribute &lt;Protocol | ...&gt; [subnets]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#ospfv3-address-family_1","title":"OSPFv3 Address Family","text":"<pre><code>Router ospfv3 &lt;process number&gt;\naddress-family [ipv6 | ipv4] unicast\nredistribute &lt;Protocol | ...&gt; &lt;process-id&gt; [subnets]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#additional-configuration","title":"Additional Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/OSPF/#authentication-on-ospf","title":"Authentication on OSPF","text":"<pre><code>key chain &lt;keychain-name&gt;\nkey &lt;number&gt;\nkey-string &lt;secret key&gt;\ncryptographic-algorithm &lt;algorithm&gt;\nint &lt;interface&gt;\nip ospf authentication key-chain &lt;keychain-name&gt;\n</code></pre> <ol> <li> <p>OSPFv3 is using IPv6 Link-Local addresses. Therefore IPv6 must be enabled regardless if using IPv4 or IPv6.\u00a0\u21a9</p> </li> </ol>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/RIP/","title":"RIP","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/RIP/#what-is-rip","title":"What is RIP","text":"<p>RIP is an distance vector routing protocol and is using hop count as its routing metric - the less hops to the destination, the better.</p> <p>To prevent routing loop, RIP implements split-horizion, which prevent routing information being sent out the same interface as it was received. Combining split-horizon with poison reverse resulting a metric of 16, where a metric of 15 is the max amount of hops before a router consider a route as unreachable, therefore it tells the neighbors that a route is inaccesible rather than not saying anything.</p> <p>RIPv1, among other limitiations, is limited to classfull routing and are therefore obsolete. Use RIPv2 instead, at least.</p> RIPv2 RIPng (Next Gen) Facts Classless routing Same as RIPv2 Type Distance Vector Triggered updates IPv6 Algorithm Bellman-Ford Global configuration Interface configuration Standard Non proprietary Protocol UDP Group IGP","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/RIP/#configuration","title":"Configuration","text":"","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/RIP/#ripv2","title":"RIPv2","text":"<pre><code>Router rip\nVersion 2\nNo auto-summary\nNetwork &lt;Network adress&gt;\nPassive-interface [&lt;Interface&gt; | Default]\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Routing%20protocols/RIP/#ripng","title":"RIPng","text":"<pre><code>ipv6 unicast-routing\nRouter rip &lt;Name&gt;\nexit\nint &lt;interface&gt;\nipv6 rip &lt;Name&gt; enable\n</code></pre>","tags":["Networking"]},{"location":"Networking/Cisco/Security/","title":"Security","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/#local-and-remote-access","title":"Local and Remote Access","text":"<ul> <li>Local Access: All network infrastructure devices can be accessed locally. Local access to a router usually requires a direct connection to a console port on the Cisco router, and using a computer that is running terminal emulation software, as shown in the figure. The administrator must have physical access to the router and use a console cable to connect to the console port. Local access is typically used for initial configuration of the device.</li> <li>Remote access: Administrators can also access infrastructure devices remotely, as shown in the figure. Although the aux port option is available, the most common remote access method involves allowing Telnet, SSH, HTTP, HTTPS, or SNMP connections to the router from a computer. The computer can be on the local network or a remote network. However, if network connectivity to the device is down, the only way to access it might be over telephone lines.</li> </ul>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/#routing-protocols","title":"Routing Protocols","text":"<p>For commands to secure routing protocols. Please check the configuration of the respective routing protocol:</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/","title":"Basic Security","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#priviledge-levels","title":"Priviledge Levels","text":"<p>By default, the Cisco IOS software CLI has two levels of access to commands:</p> <ul> <li>User EXEC mode (privilege level 1) This provides the lowest EXEC mode user privileges and allows only user-level commands available at the Router&gt; prompt.  </li> <li>Privileged EXEC mode (privilege level 15) This includes all enable-level commands at the Router# prompt.</li> </ul> <p>There are 16 privilege levels in total, as listed below. The higher the privilege level, the more router access a user has. Commands that are available at lower privilege levels are also executable at higher levels.</p> <ul> <li>Level 0: Predefined for user-level access privileges. Seldom used, but includes five commands: disable, enable, exit, help, and logout.</li> <li>Level 1: The default level for login with the router prompt Router &gt;. A user cannot make any changes or view the running configuration file.</li> <li>Levels 2 - 14: May be customized for user-level privileges. Commands from lower levels may be moved up to another higher level, or commands from higher levels may be moved down to a lower level.</li> <li>Level 15: Reserved for the enable mode privileges (enable command). Users can change configurations and view configuration files.</li> </ul>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#command-example","title":"Command example","text":"<pre><code>Router(config)# privilege mode {level level|reset} command\n</code></pre> Command Description mode Specifies the configuration mode. Use the privilege ? command to see a complete list of router configuration modes available on your router. level (Optional) Enables setting a privilege level with a specified command. *level (Optional) The privilege level that is associated with a command. You can specify up to 16 privilege levels, using numbers 0 to 15. reset (Optional) Resets the privilege level of a command. command (Optional) Argument to use when you want to reset the privilege level. <p>There are two methods for assigning passwords to the different privilege levels: To a user that is granted a specific privilege level, use the username name privilege level secret password global configuration mode command To the privilege level, use the enable secret level level password global configuration mode command</p> <p>Use the username command to assign a privilege level to a specific user. Use the enable secret command to assign a privilege level to a specific EXEC mode password.</p> <pre><code>Router(config)# !Level 5 and SUPPORT user configuration\nRouter(config)# privilege exec level 5 ping\nRouter(config)# enable algorithm-type scrypt secret level 5 cisco5\nRouter(config)# username SUPPORT privilege 5 algorithm-type scrypt secret cisco5\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#limitiations","title":"Limitiations","text":"<ul> <li>There is no access control to specific interfaces, ports, logical interfaces, and slots on a router.</li> <li>Commands available at lower privilege levels are always executable at higher levels.</li> <li>Commands specifically set at a higher privilege level are not available for lower privileged users.</li> <li>Assigning a command with multiple keywords allows access to all commands that use those keywords. For example, allowing access to show ip route allows the user access to all show and show ip commands.</li> </ul>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#views-role-based-cli","title":"Views (Role Based CLI)","text":"<p>Role-based CLI provides three types of views that dictate which commands are available:</p> <p>Note: Max 15 views (excluding root view)</p> <ul> <li> <p>Root View To configure any view for the system, the administrator must be in root view. Root view has the same access privileges as a user who has level 15 privileges. However, a root view is not the same as a level 15 user. Only a root view user can configure a new view and add or remove commands from the existing views.</p> </li> <li> <p>CLI View A specific set of commands can be bundled into a CLI view. Unlike privilege levels, a CLI view has no command hierarchy and no higher or lower views. Each view must be assigned all commands associated with that view. A view does not inherit commands from any other view. Additionally, the same commands can be used in multiple views.</p> </li> <li> <p>Superview     A superview consists of one or more CLI views.     Administrators can define which commands are accepted and which configuration information is visible.</p> <p>Superviews allow a network administrator to assign users and groups of users multiple CLI views at once, instead of having to assign a single CLI view per user with all commands associated with that one CLI view.</p> <p>Superviews have several specific characteristics:</p> <ul> <li>A single CLI view can be shared within multiple superviews.</li> <li>Commands cannot be configured for a superview.</li> <li>An administrator must add commands to the CLI view and add that CLI view to the superview.</li> <li>Users who are logged into a superview can access all the commands that are configured for any of the CLI views that are part of the superview.</li> <li>Each superview has a password that is used to switch between superviews or from a CLI view to a superview.</li> <li>Deleting a superview does not delete the associated CLI views. The CLI views remain available to be assigned to another superview.</li> </ul> </li> </ul> <p>AAA must be enabled using the aaa new-model command, before an view can be created.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#accessing-view","title":"Accessing View","text":"<pre><code>Router# enable [view [view-name]]\n</code></pre> Parameter Description view This parameter enters root view if no view-name is specified, which enables an administrator to configure CLI views. The view parameter is required to configure a CLI view. view-name (Optional) This parameter enters or exits a specified CLI view. This parameter can be used to switch from one CLI view to another CLI view.","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#configure-view","title":"Configure View","text":"<pre><code>Router(config)# parser view *view-name* !Create view\nRouter(config-view)# secret *password* !Sets password to protect access to view\nRouter(config-view)# commands *parser-mode* {include | include-exclusive | exclude} [all] [interface interface-name | command]\n</code></pre> Commands Description commands Adds commands or interfaces to a view. parser-mode The mode in which the specified command exists; for example, EXEC mode. include Adds a command or an interface to the view and allows the same command or interface to be added to other views. include-exclusive Adds a command or an interface to the view and excludes the same command or interface from being added to all other views. exclude Excludes a command or an interface from the view. all A \"wildcard\" that allows every command in a specified configuration mode that begins with the same keyword or every subinterface for a specified interface to be part of the view.. interface interface-name Interface that is added to the view. command Command that is added to the view.","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#configure-superview","title":"Configure Superview","text":"<pre><code>Router(config)# parser view *view-name* !Create superview\nRouter(config-view)# secret *password* !Sets password to protect access to view\nRouter(config-view)# view *view-name* !Assign an existing view\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#verify-cli-views","title":"Verify CLI Views","text":"<p>From the root view, use the following command to see a summary of all views. Notice how the asterisk identifies superviews.</p> <pre><code>Router# show parser view all command\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#secure-ios-image-and-configuration-file","title":"Secure IOS image and Configuration file","text":"<p>The Cisco IOS resilient configuration feature allows for faster recovery if someone maliciously or unintentionally reformats flash memory or erases the startup configuration file in nonvolatile random-access memory (NVRAM). The feature maintains a secure working copy of the router IOS image file and a copy of the running configuration file. These secure files cannot be removed by the user and are referred to as the primary bootset.</p> <ul> <li>The configuration file in the primary bootset is a copy of the running configuration that was in the router when the feature was first enabled.</li> <li>The feature secures the smallest working set of files to preserve persistent storage space.</li> <li>No extra space is required to secure the primary Cisco IOS image file. The feature automatically detects image or configuration version mismatch.</li> <li>Only local storage is used for securing files, eliminating scalability maintenance challenges from storing multiple images and configurations on TFTP servers.</li> <li>The feature can be disabled only through a console session.</li> </ul> <p>Note: The feature is only available on older routers that support a PCMCIA Advanced Technology Attachment (ATA) flash interface. Newer routers such as the ISR 4000 do not support this feature.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#enabling-ios-image-resilience-feature","title":"Enabling IOS Image Resilience Feature","text":"<pre><code>R1(config)# secure boot-image !Securing Boot Image\nR1(config)# secure boot-config !Securing Boot Config\n</code></pre> <p>Use the show secure bootset command to verify the existence of the archive.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#restore-a-primary-bootset-from-a-secure-archive","title":"Restore a primary bootset from a secure archive","text":"<p>Reload into ROM monitor (ROMmon) mode, boot into the secured bootset image, in Global Config restore the configuration to a filename of your choice using the secure boot-config restore command followed by the flash memory location. Then exit Global Config and issue the copy command to copy the rescued config file to the running configuration.</p> <pre><code>Router# reload \n&lt;Issue Break sequence, if necessary&gt; \nrommon 1 &gt; dir flash0:\nrommon 2 &gt; boot flash0:c2900-universalk9-mz.SPA.154-3.M.bin &lt;Router reboots with specified image&gt;\nRouter&gt; enable\nRouter# conf t\nRouter(config)# secure boot-config restore flash0:*rescue-cfg*\nRouter(config)# end \nRouter# copy flash0:rescue-cfg running-config\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#remotely-copy-secured-ios-and-configuration-files","title":"remotely copy Secured IOS and configuration files","text":"<p>The Secure Copy Protocol (SCP) feature is used to remotely copy these files. SCP provides a secure and authenticated method for copying router configuration or router image files to a remote location.</p> <p>The process to configure a router for server-side SCP with local AAA is: 1. Configure SSH, if not already configured. 2. For local authentication, configure at least one local database user with privilege level 15. 3. Enable AAA with the aaa new-model global configuration mode command. 4. Use the aaa authentication login default local command to specify that the local database be used for authentication. 5. Use the aaa authorization exec default local command to configure command authorization. In this example, all local users will have access to EXEC commands. 6. Enable SCP server-side functionality with the ip scp server enable command.</p> <p>Now assume that we want to securely copy the backup configuration of a router named R2 to the SCP server, which is R1. As shown in the command output below, we would use the copy command on R2, and specify specify the source file location first (flash0:R2backup.cfg), and then the destination (scp:). After answering the series of prompts to establish a connection to the SCP server on R1, the file will be copied.</p> <pre><code>R2# copy flash0:R2backup.cfg scp: \nAddress or name of remote host []? 10.1.1.1 \nDestination username [R2]? Bob \nDestination filename [R2backup.cfg]?  \nWriting R2backup.cfg  \nPassword: &lt;cisco12345&gt;\n</code></pre> <p>On R1, you can enter the debug ip scp command to watch the transfer proceed, as shown in the following example. The most common authentication issue is an incorrect username/password combination. There is also an authentication failure if the username/password combination was not configured with the privilege 15 keyword on the SCP server.</p> <pre><code>R1# debug ip scp\nIncoming SCP debugging is on \nR1# \n*Feb 18 20:37:15.363: SCP: [22 -&gt; 10.1.1.2:61656] send  *Feb 18 20:37:15.367: SCP: [22 &lt;- 10.1.1.2:61656] recv C0644 1381 R2backup.cfg *Feb 18 20:37:15.367: SCP: [22 -&gt; 10.1.1.2:61656] send\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#password-recovery","title":"Password Recovery","text":"<p>Using the no service password-recovery Global Config command, all access to ROMmon mode is disabled. This way an attacker who gains physical access to a router, and tries to boot into ROMmon, the startup configuration will be erased, completely, and it will boot into the factory default configuration.</p> <pre><code>no service password-recovery\n</code></pre> <p>When the router is booted, the initial boot sequence displays a message stating PASSWORD RECOVERY FUNCTIONALITY IS DISABLED.</p> <p>CAUTION: If the router flash memory does not contain a valid Cisco IOS image because of corruption or deletion, the ROMmon xmodem command cannot be used to load a new flash image. To repair the router, an administrator must obtain a new Cisco IOS image on a flash SIMM or on a PCMCIA card. However, if an administrator has access to ROMmon they can restore an IOS file to flash memory using a TFTP server. Refer to Cisco.com for more information regarding backup flash images.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#autosecure","title":"AutoSecure","text":"<p>Released in IOS version 12.3, Cisco AutoSecure is a feature that is initiated from the CLI and executes a script. AutoSecure first makes recommendations for fixing security vulnerabilities and then modifies the security configuration of the router, as shown in the figure.</p> <p>AutoSecure can lock down the management plane functions and the forwarding plane services and functions of a router. There are several management plane services and functions:</p> <ul> <li>Secure BOOTP, CDP, FTP, TFTP, PAD, UDP, and TCP small servers, MOP, ICMP (redirects, mask-replies), IP source routing, Finger, password encryption, TCP keepalives, gratuitous ARP, proxy ARP, and directed broadcast</li> <li>Legal notification using a banner</li> <li>Secure password and login functions</li> <li>Secure NTP</li> <li>Secure SSH access</li> <li>TCP intercept services</li> </ul> <p>There are three forwarding plane services and functions that AutoSecure enables:</p> <ul> <li>Cisco Express Forwarding (CEF)</li> <li>Traffic filtering with ACLs</li> <li>Cisco IOS firewall inspection for common protocols</li> </ul>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#configure-autosecure","title":"Configure AutoSecure","text":"<p>Use the auto secure command to enable the Cisco AutoSecure feature setup. This setup can be interactive or non-interactive.</p> <pre><code>Router# auto secure {no-interact | full} [forwarding | management] [ntp | login | ssh | firewall | top-intercept]\n</code></pre> Optional Parameters Description no-interact The user will not be prompted for any interactive configurations. No interactive dialogue parameters will be configured, including usernames or passwords. full The user will be prompted for all interactive questions. This is the default setting. forwarding Only the forwarding plane<sup>1</sup> will be secured. management Only the management plane<sup>1</sup>will be secured. ntp Specifies the configuration of the NTP feature in the AutoSecure CLI. login Specifies the configuration of the login feature in the AutoSecure CLI. ssh Specifies the configuration of the SSH feature in the AutoSecure CLI. firewall Specifies the configuration of the firewall feature in the AutoSecure CLI. tcp-intercept Specifies the configuration of the TCP intercept feature in the AutoSecure CLI.","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#aaa","title":"AAA","text":"<p>AAA network security services provide the primary framework to set up access control on a network device. AAA is a way to control who is permitted to access a network (authenticate) and what they can do while they are there (authorize). AAA also allows auditing of the actions that users perform while accessing the network (accounting).</p> <p>Network and administrative AAA security in the Cisco environment has three functional components:</p> <ul> <li>Authentication - Users and administrators must prove their identity before accessing the network and network resources. Authentication can be established using username and password combinations, challenge and response questions, token cards, and other methods. For example: \u201cI am user \u2018student\u2019 and I know the password to prove it.\u201d</li> <li>Authorization - After the user is authenticated, authorization services determine which resources the user can access and which operations the user is allowed to perform. An example is \u201cUser \u2018student\u2019 can access host serverXYZ using SSH only.\u201d</li> <li>Accounting and auditing - Accounting records what the user does, including what is accessed, the amount of time the resource is accessed, and any changes that were made. Accounting keeps track of how network resources are used. An example is \"User 'student' accessed host serverXYZ using SSH for 15 minutes.\"</li> </ul>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#authentication-modes","title":"Authentication Modes","text":"<p>AAA Authentication can be used to authenticate users for administrative access or it can be used to authenticate users for remote network access. Cisco provides two common methods of implementing AAA services: - Local AAA Authentication - Server-Based AAA Authentication: The router uses either the Remote Authentication Dial-In User Service (RADIUS) or Terminal Access Controller Access Control System (TACACS+) protocols to communicate with the AAA server. When there are multiple routers and switches, server-based AAA is more appropriate because accounts can be administered from a central location rather than on individual devices.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#configure-local-aaa","title":"Configure Local AAA","text":"<pre><code>Router(config)# aaa authentication login {default | list-name} method1\u2026[ method4 ]\n</code></pre> Command Description default Uses the listed authentication methods that follow this keyword as the default list of methods when a user logs in. list-name Instead of using default list name, the administrator may wish to specify a name for documentation purposes. The name can be up to 31 characters. method1...[method4] Identifies the list of methods that the AAA authentication process will query in the given sequence. At least one method must be specified. A maximum of four methods may be specified. Method Type Keywords Description enable Uses the enable password for authentication. local Uses the local username database for authentication. local-case Uses case-sensitive local username authentication. none Uses no authentication. group radius Uses the list of all RADIUS servers for authentication. group tacacs+ Uses the list of all TACACS+ servers for authentication. group group-name Uses a subset of RADIUS or TACACS+ servers for authentication as defined by the aaa group server radius or aaa group server tacacs+ command. <p>Then apply it on the VTY lines:</p> <pre><code>login authentication &lt;list&gt;\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#configure-server-aaa","title":"Configure Server AAA","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#tacacs-authentication","title":"TACACS+ Authentication","text":"<pre><code>R1(config)# aaa new-model \nR1(config)# tacacs server Server-T\nR1(config-server-tacacs)# address ipv4 192.168.1.101\nR1(config-server-tacacs)# single-connection\nR1(config-server-tacacs)# key TACACS-Pa55w0rd !Shared Secret\nR1(config-server-tacacs)# exit\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#radius-authentication","title":"RADIUS Authentication","text":"<pre><code>R1(config)# aaa new-model\nR1(config)# radius server SERVER-R\nR1(config-radius-server)# address ipv4 192.168.1.100 auth-port 1812 acct-port 1813\nR1(config-radius-server)# key RADIUS-Pa55w0rd !Shared Secret\nR1(config-radius-server)# exit\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#authorization","title":"Authorization","text":"<ul> <li>network - for network services such as PPP and SLIP</li> <li>exec - for User EXEC terminal sessions</li> <li> <p>commands level - command authorization attempts authorization for all EXEC mode commands, including global configuration commands, associated with a specific privilege level</p> <p>Router(config)# aaa authorization (network | exec | commands level) {default | list-name} method1\u2026 [method4]</p> </li> </ul> <p>Note: When AAA authorization is not enabled, all users are allowed full access. After authentication is started, the default changes to allow no access. This means that the administrator must create a user with full access rights before authorization is enabled, as shown in the example. Failure to do so immediately locks the administrator out of the system the moment the aaa authorization command is entered. The only way to recover from this is to reboot the router. If this is a production router, rebooting might be unacceptable. Be sure that at least one user always has full rights.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#accounting","title":"Accounting","text":"<ul> <li>network - Runs accounting for all network-related service requests, including PPP.</li> <li>exec - Runs accounting for the EXEC shell session.</li> <li> <p>connection - Runs accounting on all outbound connections such as SSH and Telnet.</p> <p>Router(config)# aaa accounting {network | exec | connection} {default | list-name} {start-stop | stop-only | none } [broadcast] method1...[method4]</p> </li> </ul> <p>Next, the record type, or trigger, is configured.  The trigger specifies what actions cause accounting records to be updated.  Possible triggers include:</p> <ul> <li>start-stop - Sends a \"start\" accounting notice at the beginning of a process and a \"stop\" accounting notice at the end of a process.</li> <li>stop-only - Sends a \"stop\" accounting record for all cases including authentication failures.</li> <li>none - Disables accounting services on a line or interface.</li> </ul>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#tacacs-vs-radius","title":"TACACS+ vs RADIUS","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#tacacs","title":"TACACS+","text":"<p>A Cisco enhancement to the original TACACS protocol. Despite its name, TACACS+ is an entirely new protocol that is incompatible with any previous version of TACACS. TACACS+ is supported by the Cisco family of routers and access servers.</p> <p>TACACS+ provides separate AAA services. Separating the AAA services provides flexibility in implementation because it is possible to use TACACS+ for authorization and accounting while using another method of authentication.</p> <p>The extensions to the TACACS+ protocol provide more types of authentication requests and response codes than were in the original TACACS specification. TACACS+ offers multiprotocol support, such as IP and legacy AppleTalk. Normal TACACS+ operation encrypts the entire body of the packet for more secure communications and utilizes TCP port 49.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Basic/#radius","title":"RADIUS","text":"<p>An open IETF standard AAA protocol for applications such as network access or IP mobility. RADIUS works in both local and roaming situations and is commonly used for accounting purposes.</p> <p>The RADIUS protocol hides passwords during transmission, even with the Password Authentication Protocol (PAP), using a rather complex operation that involves Message Digest 5 (MD5) hashing and a shared secret. However, the rest of the packet is sent in plaintext.</p> <p>RADIUS combines authentication and authorization as one process. When a user is authenticated, that user is also authorized. RADIUS uses UDP port 1645 or 1812 for authentication and UDP port 1646 or 1813 for accounting.</p> <p>RADIUS is widely used by VoIP service providers. It passes login credentials of a SIP endpoint, such as a broadband phone, to a SIP registrar using digest authentication, and then to a RADIUS server using RADIUS. RADIUS is also a common authentication protocol that is utilized by the 802.1X security standard.</p> <ol> <li> <p>Please see the Basic configuration for further details about Management plane and forwarding plane.\u00a0\u21a9\u21a9</p> </li> </ol>","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/Firewall/","title":"Firewall","text":""},{"location":"Networking/Cisco/Security/Firewall/#private-public","title":"Private &amp; Public","text":""},{"location":"Networking/Cisco/Security/Firewall/#dmz","title":"DMZ","text":""},{"location":"Networking/Cisco/Security/Firewall/#zpf","title":"ZPF","text":""},{"location":"Networking/Cisco/Security/encryption/","title":"Encryption","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/Security/encryption/#hashing-vs-encryption","title":"Hashing vs Encryption","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/","title":"Cisco VPN","text":"","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#configuring-site-to-site-vpn-s2s","title":"Configuring Site-to-Site VPN (S2S)","text":"<p>The first task is to configure the ISAKMP policy for IKE Phase 1. The ISAKMP policy lists the SAs that the router is willing to use to establish the IKE Phase 1 tunnel. The Cisco IOS comes with default ISAKMP policies already in place. To view the default policies, enter the show crypto isakmp default policy command.</p>","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#configuring-isakmp-policy","title":"Configuring ISAKMP Policy","text":"<p>To configure a new ISAKMP policy, use the crypto isakmp policy command, as shown in the figure. The only argument for the command is to set a priority for the policy (from 1 to 10000). Peers will attempt to negotiate using the policy with the lowest number (highest priority).  </p> <p>NOTE! Peers do not require matching priority numbers.</p> <p>When in ISAKMP policy configuration mode, the SAs for the IKE Phase 1 tunnel can be configured. Use the mnemonic HAGLE to remember the five SAs to configure:</p> <ul> <li>Hash</li> <li>Authentication</li> <li>Group</li> <li>Lifetime</li> <li>Encryption</li> </ul> <p>Below shows some commands to create an isakmp policy:</p> <pre><code>crypto isakmp policy &lt;number&gt;\nencryption &lt;encryption&gt;\nhash &lt;hash&gt;\nauthentication &lt;authentication method&gt;\ngroup &lt;Diffie-hellman group&gt;\nlifetime &lt;lifetime&gt; !Seconds\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#configuring-isakmp-pre-sharedkey","title":"Configuring ISAKMP Pre-sharedKey","text":"<p>Pre-shared key may be used for authentication between the peers. The administrator can either specify a host name or an IP address for the peer.</p> <pre><code>crypto isakmp key &lt;keystring&gt; address &lt;peer-address&gt;\ncrypto isakmp key &lt;keystring&gt; hostname &lt;peer-hostname&gt;\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#defining-interesting-traffic","title":"Defining Interesting Traffic","text":"<p>Although the ISAKMP policy for the IKE Phase 1 tunnel is configured, the tunnel does not yet exist. Interesting traffic must be detected before IKE Phase 1 negotiations can begin.</p> <pre><code>ip access-list extended &lt;ACL Name&gt;\npermit ip &lt;source&gt; &lt;wildcard&gt; &lt;destination&gt; &lt;wildcard&gt;\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#configuring-ipsec-transform-set","title":"Configuring IPsec Transform Set","text":"<p>The next step is to configure the set of encryption and hashing algorithms that will be used to transform the data sent through the IPsec tunnel. This is called the transform set. During IKE Phase 2 negotiations, the peers agree on the IPsec transform set to be used for protecting interesting traffic.</p> <pre><code>crypto ipsec transform-set &lt;tag&gt; esp-aes 256 esp-sha-hmac !Example - There are more combinations\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#configuring-crypto-map","title":"Configuring Crypto Map","text":"<p>Now that the interesting traffic is defined, and an IPsec transform set is configured, it is time to bind those configurations with the rest of the IPsec policy in a crypto map.  </p> <ol> <li>Bind the ACL and the transform set to the map.</li> <li>Specify the peer\u2019s IP address.</li> <li>Configure the DH group.</li> <li>Configure the IPsec tunnel lifetime.</li> </ol> <p>The sequence number is important when configuring multiple crypto map entries.</p> <pre><code>crypto map &lt;mapName&gt; &lt;SequenceNumber&gt; {ipsec-isakmp | ipsec-manual}\nmatch address &lt;ACL Name&gt;\nset transform-set &lt;tag&gt;\nset peer &lt;peer IP&gt;\nset pfs &lt;DH group&gt;\n</code></pre> <p>Use the crypto map map-name seq-num command without any keyword to modify the existing crypto map entry or profile.</p> Parameter Description map-name Identifies the crypto map set. seq-num Sequence number you assign to the crypto map entry. ipsec-isakmp Indicates that IKE will be used to establish the IPsec for protecting the traffic specified by this crypto map entry. ipsec-manual Indicates that IKE will not be used to establish the IPsec SAs for protecting the traffic specified by this crypto map entry.","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#apply-to-interface","title":"Apply to interface","text":"<p>Apply the following to the tunnel Interfaces</p> <pre><code>interface &lt;interface&gt;\ncrypto map &lt;mapName&gt;\n</code></pre>","tags":["Networking","Security"]},{"location":"Networking/Cisco/VPN/configuring_VPN/#verify-configuration","title":"Verify Configuration","text":"<p>Use the following command to verify the configuration</p> <pre><code>show crypto map\n</code></pre>","tags":["Networking","Security"]},{"location":"tags/","title":"Tags","text":"<p>Following is a list of relevant tags:</p>"},{"location":"tags/#cooking-book","title":"Cooking book","text":"<ul> <li>Cisco cooking book</li> </ul>"},{"location":"tags/#networking","title":"Networking","text":"<ul> <li>IPv4 Cheat Sheet</li> <li>IPv6 Cheat Sheet</li> <li>VPN Basics</li> <li>Basic</li> <li>IP Addressing</li> <li>Routing Protocols</li> <li>BGP</li> <li>EIGRP</li> <li>OSPF</li> <li>RIP</li> <li>Cisco Security - General</li> <li>Cisco Basic Security</li> <li>Encryption</li> <li>Cisco VPN</li> </ul>"},{"location":"tags/#security","title":"Security","text":"<ul> <li>VPN Basics</li> <li>Cisco Security - General</li> <li>Cisco Basic Security</li> <li>Encryption</li> <li>Cisco VPN</li> </ul>"}]}