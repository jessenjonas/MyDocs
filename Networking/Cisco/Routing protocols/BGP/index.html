
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.designplace.dk/Networking/Cisco/Routing%20protocols/BGP/">
      
      
        <link rel="prev" href="../OSPF/">
      
      
        <link rel="next" href="../../Security/">
      
      
      <link rel="icon" href="../../../../assets/images/Logo_Square_Thick.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.14">
    
    
      
        <title>BGP - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/customization/css/custom.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="BGP - My Docs" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://docs.designplace.dk/assets/images/social/Networking/Cisco/Routing protocols/BGP.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://docs.designplace.dk/Networking/Cisco/Routing%20protocols/BGP/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="BGP - My Docs" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://docs.designplace.dk/assets/images/social/Networking/Cisco/Routing protocols/BGP.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bgp" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  <img src="../../../../assets/images/Logo_Square_Thick_White.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BGP
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../../Cooking%20books/" class="md-tabs__link">
          
  
    
  
  Cooking books

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tags/" class="md-tabs__link">
        
  
    
  
  Tags

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://designplace.dk/" class="md-tabs__link">
        
  
    
  
  Designplace

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  <img src="../../../../assets/images/Logo_Square_Thick_White.svg" alt="logo">

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../Cooking%20books/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cooking books
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Cooking books
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../Cooking%20books/Cisco%20cooking%20book/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cisco cooking book
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Cisco cooking book
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IP%20Addressing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IP Addressing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Routing Protocols
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2_4" id="__nav_2_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2_4">
            <span class="md-nav__icon md-icon"></span>
            Routing Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RIP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EIGRP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EIGRP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OSPF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OSPF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    BGP
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    BGP
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-bgp" class="md-nav__link">
    <span class="md-ellipsis">
      What is BGP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autonomous-system-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Autonomous System Numbers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afi-safi" class="md-nav__link">
    <span class="md-ellipsis">
      AFI &amp; SAFI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AFI & SAFI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-ipv4-unicast" class="md-nav__link">
    <span class="md-ellipsis">
      Default IPv4 Unicast
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#router-id" class="md-nav__link">
    <span class="md-ellipsis">
      Router ID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route-filtering-manipulation" class="md-nav__link">
    <span class="md-ellipsis">
      Route filtering &amp; Manipulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgp_1" class="md-nav__link">
    <span class="md-ellipsis">
      BGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp-ipv4-over-ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP | IPv4 over IPv4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp-ipv6-over-ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP | IPv6 over IPv4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp-ipv6-over-ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP | IPv6 over IPv6
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manupulate" class="md-nav__link">
    <span class="md-ellipsis">
      Manupulate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarization" class="md-nav__link">
    <span class="md-ellipsis">
      Summarization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redistribution" class="md-nav__link">
    <span class="md-ellipsis">
      Redistribution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Redistribution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgp_2" class="md-nav__link">
    <span class="md-ellipsis">
      BGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Security/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Security
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2_5" id="__nav_2_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_5">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Security/Basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco Basic Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Security/encryption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Encryption
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    VPN
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_6">
            <span class="md-nav__icon md-icon"></span>
            VPN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../VPN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VPN Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../VPN/configuring_VPN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cisco VPN
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Cheat Sheets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Cheat Sheets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../IPv4%20Cheat%20Sheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IPv4 Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../IPv6%20Cheat%20Sheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IPv6 Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://designplace.dk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designplace
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-bgp" class="md-nav__link">
    <span class="md-ellipsis">
      What is BGP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autonomous-system-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Autonomous System Numbers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afi-safi" class="md-nav__link">
    <span class="md-ellipsis">
      AFI &amp; SAFI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AFI & SAFI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-ipv4-unicast" class="md-nav__link">
    <span class="md-ellipsis">
      Default IPv4 Unicast
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#router-id" class="md-nav__link">
    <span class="md-ellipsis">
      Router ID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route-filtering-manipulation" class="md-nav__link">
    <span class="md-ellipsis">
      Route filtering &amp; Manipulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgp_1" class="md-nav__link">
    <span class="md-ellipsis">
      BGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp-ipv4-over-ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP | IPv4 over IPv4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp-ipv6-over-ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP | IPv6 over IPv4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp-ipv6-over-ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP | IPv6 over IPv6
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manupulate" class="md-nav__link">
    <span class="md-ellipsis">
      Manupulate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarization" class="md-nav__link">
    <span class="md-ellipsis">
      Summarization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redistribution" class="md-nav__link">
    <span class="md-ellipsis">
      Redistribution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Redistribution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bgp_2" class="md-nav__link">
    <span class="md-ellipsis">
      BGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mp-bgp" class="md-nav__link">
    <span class="md-ellipsis">
      MP-BGP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../../../tags/#networking" class="md-tag">Networking</a>
    
  
</nav>



<h1 id="bgp"><abbr title="Border Gateway Protocol">BGP</abbr></h1>
<p><img src=../assets/BGP.png width=500></p>
<h2 id="what-is-bgp">What is <abbr title="Border Gateway Protocol">BGP</abbr></h2>
<p><abbr title="Border Gateway Protocol">BGP</abbr>, opposing to EIGRP and OSPF, is an EGP, and are therefore used for cummincation between ISPs and enterprises. <abbr title="Border Gateway Protocol">BGP</abbr> is an succesor to EGP (Note the dual use of EGP).<br />
Distingushed by eBGP and iBGP, <abbr title="Border Gateway Protocol">BGP</abbr>, besides being external, can be internal - The configuration is the same, but iBGP is setup within the same AS.</p>
<p>In contrary to other routing protocols, <abbr title="Border Gateway Protocol">BGP</abbr> establishes neighbor relationships without explicitly advertising any networks. When an adjacency is established, neighbors will exchange their best <abbr title="Border Gateway Protocol">BGP</abbr> routes which includes some attributes.<br />
A router will use these attributes to offer the single best route for a network from the <abbr title="Border Gateway Protocol">BGP</abbr> table, to the ip routing table.<br />
This also means that the neighbor don't have the be directly connected neighbor, but can be any router that is pingable over the network.</p>
<p><img src=../assets/BGP_Multi-hop_Neighbor.png width=500></p>
<p>To be selected for the best <abbr title="Border Gateway Protocol">BGP</abbr> route, the next-hop ip address must be reachable.<br />
Even though that the best <abbr title="Border Gateway Protocol">BGP</abbr> route is being propogated to its neighbors, it doesn’t have to be in the ip routing table.</p>
<p>Since <abbr title="Border Gateway Protocol">BGP</abbr> doesn’t accept a route with its own AS number in the path, it is guranteed to loop free, and BGPs interdomain routing is usually based on policies, which differentiates it from IGPs which usually focus on the fastest route.</p>
<p>When having a single-homed network, <abbr title="Border Gateway Protocol">BGP</abbr> doesn’t provide benefit. In a multi-homed network, <abbr title="Border Gateway Protocol">BGP</abbr> is used to manipulate how your network traffic is being routed between multiple paths.<br />
Apart from keepalive messages, because of it’s reliable link, only changes are exchanged.</p>
<h2 id="autonomous-system-numbers">Autonomous System Numbers</h2>
<p>An organization requiring connectivity to the Internet must obtain an <abbr title="Autonomous System Numbers">ASN</abbr>.<br />
ASNs were originally 2 bytes (in the 16-bit range), which made 65,535 ASNs possible. Due to exhaustion, RFC 4893 expanded the <abbr title="Autonomous System Numbers">ASN</abbr> field to accommodate 4 bytes (in the 32-bit range).<br />
This allows for 4,294,967,295 unique ASNs, providing quite an increase from the original 65,535 ASNs.</p>
<p>Two blocks of private ASNs are available for any organization to use, as long as these ASNs are never exchanged publicly on the Internet.<br />
ASNs 64,512 through 65,535 are private ASNs in the 16-bit <abbr title="Autonomous System Numbers">ASN</abbr> range, and 4,200,000,000 through 4,294,967,294 are private ASNs in the extended 32-bit range.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Use <strong>ONLY</strong> ASNs assigned by <abbr title="Internet Assigned Numbers Authority">IANA</abbr>, your service provider or a private <abbr title="Autonomous System Numbers">ASN</abbr>!<br />
Failure to do so, or using another organization's <abbr title="Autonomous System Numbers">ASN</abbr> publicly could result in traffic loss and cause havoc on the internet!</p>
</div>
<table>
<thead>
<tr>
<th><abbr title="Border Gateway Protocol">BGP</abbr></th>
<th>MP-<abbr title="Border Gateway Protocol">BGP</abbr></th>
<th>Facts</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>IPv4<br><em>Global config</em></td>
<td>Pv6 over IPv6 &amp; IPv6 over IPv4<br><em>Global config</em></td>
<td>Type</td>
<td>Path Vector</td>
</tr>
<tr>
<td></td>
<td><abbr title="Subsequent Address Family Identifier">SAFI</abbr> &amp; <abbr title="Address Family Identifier">AFI</abbr></td>
<td>Algorithm</td>
<td><abbr title="Policy Based Routing">PBR</abbr></td>
</tr>
<tr>
<td></td>
<td></td>
<td>Standard</td>
<td>Non proprietary</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Protocol</td>
<td>TCP</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Group</td>
<td>EGP</td>
</tr>
</tbody>
</table>
<h2 id="afi-safi"><abbr title="Address Family Identifier">AFI</abbr> &amp; <abbr title="Subsequent Address Family Identifier">SAFI</abbr></h2>
<p>Originally, <abbr title="Border Gateway Protocol">BGP</abbr> was intended for routing of IPv4 prefixes between organizations, but RFC 2858 added Multi-Protocol <abbr title="Border Gateway Protocol">BGP</abbr> (MP-<abbr title="Border Gateway Protocol">BGP</abbr>) capability by adding an extension called the address family identifier (<abbr title="Address Family Identifier">AFI</abbr>). An address family correlates to a specific network protocol, such as IPv4 or IPv6, and additional granularity is provided through a subsequent address family identifier (<abbr title="Subsequent Address Family Identifier">SAFI</abbr>), such as unicast or multicast.</p>
<p>The MP-<abbr title="Border Gateway Protocol">BGP</abbr> extensions include an <abbr title="Address Family Identifier">AFI</abbr> that describes the supported protocols, along with <abbr title="Subsequent Address Family Identifier">SAFI</abbr> attribute fields that describe whether the prefix applies to the unicast or multicast routing table:</p>
<ul>
<li>IPv4 unicast: <abbr title="Address Family Identifier">AFI</abbr>:1, <abbr title="Subsequent Address Family Identifier">SAFI</abbr>:1</li>
<li>IPv6 unicast: <abbr title="Address Family Identifier">AFI</abbr>:2, <abbr title="Subsequent Address Family Identifier">SAFI</abbr>:1</li>
<li>IPv4 Multicast: <abbr title="Address Family Identifier">AFI</abbr>:1, <abbr title="Subsequent Address Family Identifier">SAFI</abbr>:2</li>
<li>IPv6 Multicast: <abbr title="Address Family Identifier">AFI</abbr>:2, <abbr title="Subsequent Address Family Identifier">SAFI</abbr>:2</li>
</ul>
<p><abbr title="Address Family Identifier">AFI</abbr> &amp; <abbr title="Subsequent Address Family Identifier">SAFI</abbr> is configured during the configuration of MP-<abbr title="Border Gateway Protocol">BGP</abbr> address families with the following command <code>Address-family AFI [SAFI]</code>, where <code>AFI</code> is either IPv4 or IPv6, and <code>SAFI</code> is either Unicast or Multicast, depending on the network topology.</p>
<h3 id="default-ipv4-unicast">Default IPv4 Unicast</h3>
<p>The command <code>bgp default ipv4-unicast</code> is set by default and tell's the router that the <abbr title="Address Family Identifier">AFI</abbr> &amp; <abbr title="Subsequent Address Family Identifier">SAFI</abbr>, for the <abbr title="Border Gateway Protocol">BGP</abbr> peering session, is a IPv4 Unicast by default for the global configuration.</p>
<p>It doesn't prevent IPv6 prefixes to be advertised. This means that IPv4 address family routing information is advertised by default for each <abbr title="Border Gateway Protocol">BGP</abbr> routing session configured with the <code>neighbor &lt;remote-as&gt;</code> command, unless you first configure the <code>no bgp default ipv4-unicast</code> command before configuring the <code>&lt;neighbor remote-as&gt;</code> command.</p>
<h2 id="router-id">Router ID</h2>
<p>By default the Router ID is set dynamically, but can also be set manually using the <code>Router-id &lt;32-bit router ID&gt;</code> command.
The algorithm for dynamically choosing the OSPF <abbr title="Router-ID">RID</abbr> uses the following order:</p>
<ol>
<li>Highest IPv4 address of any up loopback interfaces.</li>
<li>If there are not any up loopback interfaces, the highest IPv4 address of any active up physical interfaces becomes the <abbr title="Router-ID">RID</abbr>.</li>
</ol>
<p>If the conditions above aren't fulfilled, the <abbr title="Border Gateway Protocol">BGP</abbr> process isn't started</p>
<h2 id="route-filtering-manipulation">Route filtering &amp; Manipulation</h2>
<p><em>Not yet finished</em></p>
<h2 id="configuration">Configuration</h2>
<h3 id="bgp_1"><abbr title="Border Gateway Protocol">BGP</abbr></h3>
<pre><code>Router bgp &lt;AS-number&gt;
Neighbor &lt;Neighbor IP&gt; remote-as &lt;Remote AS-number&gt;
Network &lt;Network adress&gt; [&lt;Subnet mask&gt;]
</code></pre>
<h3 id="mp-bgp-ipv4-over-ipv4">MP-<abbr title="Border Gateway Protocol">BGP</abbr> | IPv4 over IPv4</h3>
<pre><code>ipv6 unicast-routing
Router bgp &lt;AS-number&gt;
Neighbor &lt;Neighbor IPv4&gt; remote-as &lt;Remote AS-number&gt;
Address-family IPv4
Neighbor &lt;Neighbor IPv4&gt; activate
Network &lt;Network address&gt; mask &lt;network mask&gt;
</code></pre>
<h3 id="mp-bgp-ipv6-over-ipv4">MP-<abbr title="Border Gateway Protocol">BGP</abbr> | IPv6 over IPv4</h3>
<pre><code>ipv6 unicast-routing
Router bgp &lt;AS-number&gt;
Neighbor &lt;Neighbor IPv4&gt; remote-as &lt;Remote AS-number&gt;
Address-family IPv6
Neighbor &lt;Neighbor IPv4&gt; activate
Network &lt;Network IPv6/Prefix-lenght&gt;
</code></pre>
<h3 id="mp-bgp-ipv6-over-ipv6">MP-<abbr title="Border Gateway Protocol">BGP</abbr> | IPv6 over IPv6</h3>
<pre><code>ipv6 unicast-routing
Router bgp &lt;AS-number&gt;
bgp router-id &lt;32-bit Router ID&gt;
Neighbor &lt;Neighbor IPv6&gt; remote-as &lt;Remote AS-number&gt;
Address-family IPv6
Neighbor &lt;Neighbor IPv6&gt; activate
Network &lt;Network IPv6/Prefix-lenght&gt;
</code></pre>
<h2 id="additional-configuration">Additional Configuration</h2>
<h3 id="manupulate">Manupulate</h3>
<pre><code>Neighbor &lt;Neighbor IPv4&gt; route-map &lt;name&gt; out
route-map &lt;name&gt; permit &lt;sequence number&gt;
set ipv6 next-hop &lt;IPv6 address on interface on link&gt;
</code></pre>
<h3 id="summarization">Summarization</h3>
<pre><code>aggregate-address prefix/prefix-length [summary-only] [as-set]
!Summary-only don't advertise routes that overlap with the aggregate-address
!as-set Advertise the aggregates-address AS-Path, that otherwise wouln't be advertised.
</code></pre>
<h2 id="redistribution">Redistribution</h2>
<h3 id="bgp_2"><abbr title="Border Gateway Protocol">BGP</abbr></h3>
<pre><code>Router bgp &lt;AS-number&gt;
redistribute &lt;Protocol | ...&gt; [Route-map &lt;name&gt;]
</code></pre>
<h3 id="mp-bgp">MP-<abbr title="Border Gateway Protocol">BGP</abbr></h3>
<pre><code>Router bgp &lt;AS-number&gt;
Address-family [IPv6 | IPv4]
redistribute &lt;Protocol | ...&gt; [Route-map &lt;name&gt;]
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.path", "toc.follow", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "navigation.instant", "navigation.sections"], "search": "../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.cd18aaf1.min.js"></script>
      
    
  </body>
</html>